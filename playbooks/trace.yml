---
# Entry point playbook that runs discovery via `netpath` and hands the hop list
# to `nautobot_enrich` for metadata augmentation.
- name: Trace from each source to the destination, then enrich via Nautobot
  hosts: traceroute_sources
  gather_facts: false
  any_errors_fatal: true
  roles:
    - role: netpath
    - role: nautobot_enrich
      vars:
        # Feed the structured hops from the traceroute JSON module
        netpath_hops: "{{ hop_json.hops }}"
